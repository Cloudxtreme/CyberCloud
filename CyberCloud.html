<html>
<head>
	<title>CyberSpace!</title>
	<script src="src/easeljs-0.6.1.min.js"></script>
	<script src="src/soundjs-0.4.1.min.js"></script>
	<script src="src/ndgmr.Collision.js"></script>
	<script type="text/javascript">function init(){stage=new createjs.Stage("demoCanvas");Ticker=createjs.Ticker;Ticker.setFPS(30);canwidth=parseInt(document.getElementById("demoCanvas").getAttributeNode("width").value);canheight=parseInt(document.getElementById("demoCanvas").getAttributeNode("height").value);KEYCODE_LEFT=37;KEYCODE_UP=38;KEYCODE_RIGHT=39;KEYCODE_DOWN=40;KEYCODE_a=65;KEYCODE_s=83;KEYCODE_ESC=27;KEYCODE_SPACE=32;collisionMethod=ndgmr.checkPixelCollision;mainMenu()}document.addEventListener("DOMContentLoaded",function(){init()});function startGame(){player=new Ship("./graphics/PlayerShip.png");player.sprite.x=300;player.sprite.y=200;stage.addChild(player.sprite);catpic=new Array();catpic[0]=new catpicture();catpic[0].vel=2*(Math.random()*2)-1;catpiccooldown=0;adenem=new Array();adenem[0]=new ad();viruscooldown=0;projectiles=new Array();createjs.Sound.registerSound("./sounds/meow.ogg","sound");document.onkeydown=handleKeyDown;document.onkeyup=handleKeyUp;window.ontouchstart=a;function a(b){confirm(7)}Ticker.addEventListener("tick",tick)}function mainMenu(){stage.enableMouseOver(10);var d=new createjs.Text("CyberCloud!\nBy Garrett Calpouzos","48px Arial","#0F0");var b=new createjs.Text("Enter the Cyber Cloud","48px Arial","#F00");var a=new createjs.Text("Instructions","48px Arial","#F00");d.x=canwidth/4;d.y=50;b.x=canwidth/4;b.y=200;b.alpha=0.5;a.x=canwidth/4;a.y=250;a.alpha=0.5;var c=new createjs.Shape();c.graphics.beginFill("#000").drawRect(0,0,b.getMeasuredWidth(),b.getMeasuredHeight());b.hitArea=c;c.graphics.beginFill("#000").drawRect(0,0,a.getMeasuredWidth(),a.getMeasuredHeight());a.hitArea=c;b.addEventListener("mouseover",handleMainMenuMouseover);b.addEventListener("mouseout",handleMainMenuMouseover);a.addEventListener("mouseover",handleMainMenuMouseover);a.addEventListener("mouseout",handleMainMenuMouseover);b.addEventListener("click",function(){stage.removeAllChildren();stage.enableMouseOver(0);startGame()});a.addEventListener("click",function(){var e=new createjs.Bitmap("./graphics/Instructions.png");e.x=canwidth/4;e.y=200;e.addEventListener("click",function(){stage.removeChild(e)});stage.addChild(e)});stage.addChild(d,b,a);stage.update();Ticker.addEventListener("tick",stage)}function pauseMenu(){stage.enableMouseOver(10);Ticker.setPaused(true);var d=new createjs.Text("CyberCloud!\nGame Paused","48px Arial","#0F0");var e=new createjs.Text("Moar Cats!","48px Arial","#F00");var a=new createjs.Text("Opt in to More Advertising.","48px Arial","#F00");var b=new createjs.Text("Return to Game","48px Arial","#F00");d.x=canwidth/4;d.y=50;e.x=canwidth/4;e.y=200;e.alpha=0.5;a.x=canwidth/4;a.y=250;a.alpha=0.5;b.x=canwidth/4;b.y=300;b.alpha=0.5;var c=new createjs.Shape();c.graphics.beginFill("#000").drawRect(0,0,e.getMeasuredWidth(),e.getMeasuredHeight());e.hitArea=c;c.graphics.beginFill("#000").drawRect(0,0,a.getMeasuredWidth(),a.getMeasuredHeight());a.hitArea=c;c.graphics.beginFill("#000").drawRect(0,0,b.getMeasuredWidth(),b.getMeasuredHeight());b.hitArea=c;e.addEventListener("mouseover",handleMainMenuMouseover);e.addEventListener("mouseout",handleMainMenuMouseover);a.addEventListener("mouseover",handleMainMenuMouseover);a.addEventListener("mouseout",handleMainMenuMouseover);b.addEventListener("mouseover",handleMainMenuMouseover);b.addEventListener("mouseout",handleMainMenuMouseover);e.addEventListener("click",function(){catpiccooldown=100;createjs.Sound.play("sound")});a.addEventListener("click",function(){viruscooldown=175});b.addEventListener("click",function(){stage.enableMouseOver(0);stage.removeChild(d,e,a,b);Ticker.setPaused(false)});stage.addChild(d,e,a,b);stage.update()}function handleMainMenuMouseover(a){a.target.alpha=(a.type=="mouseover")?1:0.5}stage=new createjs.Stage("demoCanvas");var spritesheetdata={images:["./graphics/PlayerShip.png","./graphics/PlayerShipGo.png"],frames:{width:50,height:50,count:2,regx:25,regy:25},animations:{engOff:0,engOn:1}};var spritesheet=new createjs.SpriteSheet(spritesheetdata);function ad(){this.sprite=new createjs.Bitmap("./graphics/ad.png");this.sprite.x=(Math.random()*canwidth-300)+200;this.sprite.y=(Math.random()*canheight-300)+200;stage.addChild(this.sprite);this.velocity=Math.random()*2.5+1;this.update=function a(){if(player.sprite.x>this.sprite.x){this.sprite.x+=this.velocity}if(player.sprite.x<this.sprite.x){this.sprite.x-=this.velocity}if(player.sprite.y>this.sprite.y){this.sprite.y+=this.velocity}if(player.sprite.y<this.sprite.y){this.sprite.y-=this.velocity}}}function catpicture(){this.catpicsource="./graphics/cat.png";this.sprite=new createjs.Bitmap(this.catpicsource);this.sprite.x=(Math.random()*canwidth-300)+200;this.sprite.y=(Math.random()*canheight-300)+200;this.vel=2*(Math.random()*2-1);stage.addChild(this.sprite);this.update=function(){this.sprite.x+=this.vel;this.sprite.y+=this.vel;this.screen_wrap()};this.screen_wrap=function(){if(this.sprite.x>canwidth+10){this.sprite.x=0}else{if(this.sprite.x<-10){this.sprite.x=canwidth}}if(this.sprite.y>canheight+10){this.sprite.y=0}else{if(this.sprite.y<-10){this.sprite.y=canheight}}}}function SpaceObject(c){this.velocity_x=0;this.velocity_y=0;this.sprite=new createjs.BitmapAnimation(c);this.sprite.x=400;this.sprite.y=400;this.sprite.regX=25;this.sprite.regY=25;this.sprite.gotoAndStop("engOff");stage.addChild(this.sprite);this.update_position=function b(){this.sprite.x+=this.velocity_x;this.sprite.y+=this.velocity_y};this.screen_wrap=function e(){if(this.sprite.x>canwidth+10){this.sprite.x=0}else{if(this.sprite.x<-10){this.sprite.x=canwidth}}if(this.sprite.y>canheight+10){this.sprite.y=0}else{if(this.sprite.y<-10){this.sprite.y=canheight}}};this.update=function d(){this.update_position();this.screen_wrap()};this.deg_conv=function a(f){if(f<0){f+=360}else{if(f>360){f-=360}}f-=90;return f}}function Ship(d){this.acceleration_rate=0.2;this.rotating_l=false;this.rotating_r=false;this.accelerating=false;this.breaking=false;this.apply_breaks=function c(){if(this.velocity_x>-1&&this.velocity_x<1){this.velocity_x=0}if(this.velocity_y>-1&&this.velocity_y<1){this.velocity_y=0}if(0>this.velocity_x){this.velocity_x+=this.acceleration_rate}else{if(0<this.velocity_x){this.velocity_x-=this.acceleration_rate}}if(0>this.velocity_y){this.velocity_y+=this.acceleration_rate}else{if(0<this.velocity_y){this.velocity_y-=this.acceleration_rate}}};this.accelerate=function b(){var j=this.deg_conv(this.sprite.rotation);var h=Math.cos(j*(Math.PI/180))*this.acceleration_rate;var g=Math.sin(j*(Math.PI/180))*this.acceleration_rate;this.velocity_x+=h;this.velocity_y+=g};this.spin_ship=function e(){if(this.rotating_l){this.sprite.rotation-=10}if(this.rotating_r){this.sprite.rotation+=10}if(this.sprite.rotation<0){this.sprite.rotation+=360}else{if(this.sprite.rotation>360){this.sprite.rotation-=360}}};this.firegun=function a(){projectiles[projectiles.length]=new projectile(this.sprite.x,this.sprite.y,this.deg_conv(this.sprite.rotation),this.velocity_x,this.velocity_y)};this.update=function f(){if(this.rotating_l||this.rotating_r){this.spin_ship()}if(this.breaking){this.apply_breaks()}if(this.accelerating){this.accelerate();this.sprite.gotoAndStop("engOn")}else{this.sprite.gotoAndStop("engOff")}this.update_position();this.screen_wrap()}}Ship.prototype=new SpaceObject(spritesheet);function projectile(j,h,f,g,e){this.sprite=new createjs.Bitmap("./graphics/Laser.png");this.sprite.x=j;this.sprite.y=h;this.range=300;this.dist_traveled=0;this.speed=10;this.vel_x=g;this.vel_y=e;var d=Math.cos(f*(Math.PI/180))*23;var b=Math.sin(f*(Math.PI/180))*23;this.sprite.x+=d;this.sprite.y+=b;this.sprite.rotation=f+90;this.vel_x+=Math.cos(f*(Math.PI/180))*10;this.vel_y+=Math.sin(f*(Math.PI/180))*10;stage.addChild(this.sprite);this.screen_wrap=function a(){if(this.sprite.x>canwidth+10){this.sprite.x=0}else{if(this.sprite.x<-10){this.sprite.x=canwidth}}if(this.sprite.y>canheight+10){this.sprite.y=0}else{if(this.sprite.y<-10){this.sprite.y=canheight}}};this.update=function c(){this.screen_wrap();this.sprite.x+=this.vel_x;this.sprite.y+=this.vel_y;this.dist_traveled+=this.speed}}function handleKeyDown(a){switch(a.keyCode){case KEYCODE_RIGHT:player.rotating_r=true;break;case KEYCODE_LEFT:player.rotating_l=true;break;case KEYCODE_UP:player.accelerating=true;break;case KEYCODE_DOWN:player.breaking=true;break;case KEYCODE_SPACE:player.firegun();break;case KEYCODE_s:break;case KEYCODE_ESC:pauseMenu();break}}function handleKeyUp(a){switch(a.keyCode){case KEYCODE_RIGHT:player.rotating_r=false;break;case KEYCODE_LEFT:player.rotating_l=false;break;case KEYCODE_UP:player.accelerating=false;break;case KEYCODE_DOWN:player.breaking=false;break}}function tick(a){if(!createjs.Ticker.getPaused()){for(i=0;i<catpic.length;i++){if(collisionMethod(player.sprite,catpic[i].sprite,0,false)){stage.removeChild(catpic[i].sprite);catpic.splice(i,1)}catpic[i].update()}for(i=0;i<projectiles.length;i++){projectiles[i].update();if(projectiles[i].dist_traveled>projectiles[i].range){stage.removeChild(projectiles[i].sprite);projectiles.splice(i,1)}for(y=0;y<adenem.length;y++){if(collisionMethod(projectiles[i].sprite,adenem[y].sprite,0,false)){stage.removeChild(projectiles[i].sprite);projectiles.splice(i,1);stage.removeChild(adenem[y].sprite);adenem.splice(y,1)}}}if(catpiccooldown<=1200){catpiccooldown++;if(catpiccooldown%100==0){catpic.push(new catpicture())}}if(viruscooldown<=2000){viruscooldown++;if(viruscooldown%200==0){adenem.push(new ad())}}for(i=0;i<adenem.length;i++){if(collisionMethod(player.sprite,adenem[i].sprite,0,false)){alert("Annouying pop ups!");stage.removeChild(adenem[i].sprite);adenem.splice(i,1)}adenem[i].update()}player.update();stage.update()}};</script>
	<link rel="stylesheet" type="text/css" href="../codes/oldstyles.css"/>
	<style type="text/css">
		canvas {
			border-radius: 20px;
    		border:#909490 solid;
    		margin: auto;
			display: block;
			color:white;
			margin-top: 14px;
		}
		body {
			width: 1300px;
		}
		#nav {
    		text-align:center;
    		padding:10px 0;
    		margin-right: 300px;
    		float: right;
		}
		#nav ul {
    		display:inline-block;
    		padding:5px 0 5px 5px;
		}
		#nav ul li {
    		display:block;
    		float:left;
    		background-color:#272927;
    		margin-right:5px;
    		border: 5px solid #909490;
		    border-radius: 20px;
    		width: 150px;
		}
		#nav ul li a {
			color:white;
			text-decoration: none;
			font-weight: bold;
			font-family:Arial,Helvetica,sans-serif;
			padding:2px;
		}
	</style>
		
</head>
<body>
	<div id="title">CyberCloud! 			-			version 0.4.0</div>
	<div id="content">
		<canvas id="demoCanvas" width="1200" height="500"style="background-color:black;background-image:url('./graphics/space.jpg')">
			Your browser appears to be too old and crotchety to run this.
		</canvas>
	</div>
</body>
</html>